{% extends "base.html" %}

{% block title %}Cobranças - Rentivo{% endblock %}

{% block content %}
<div class="page-header">
    <div class="page-header-info">
        <h2 class="page-title">Cobranças</h2>
    </div>
    <div class="page-actions">
        <a href="/billings/create" class="btn btn--primary">+ Nova Cobrança</a>
    </div>
</div>

{% if billings %}
<div>
    {% for billing in billings %}
    <a href="/billings/{{ billing.uuid }}" class="billing-card">
        <div class="billing-card-info">
            <p class="billing-card-name">{{ billing.name }}</p>
            {% if billing.description %}
            <p class="billing-card-desc">{{ billing.description }}</p>
            {% endif %}
        </div>
        <span class="billing-card-count">
            {% if billing.owner_type == "organization" %}
            <span class="tag tag--variable">Org</span>
            {% endif %}
            {{ billing.items | length }} itens
        </span>
    </a>
    {% endfor %}
</div>
{% else %}
<div class="panel">
    <div class="empty-state">
        <p>Nenhuma cobrança cadastrada.</p>
        <a href="/billings/create" class="btn btn--primary">Criar primeira cobrança</a>
    </div>
</div>
{% endif %}
{% endblock %}
